# âœ… Pushing the same view controller instance more than once is not supported ì˜¤ë¥˜

## ğŸ¤” ë¬¸ì œ ì •ì˜
ë„¤íŠ¸ì›Œí‚¹ì´ í•œë²ˆì¼ ë•ŒëŠ” ì •ìƒì ìœ¼ë¡œ ì‘ë™ì„ í•˜ë‹¤ê°€, ë‘ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹ì˜ ì„±ê³µ ì¼€ì´ìŠ¤ì—   
`pushViewController` ë¥¼ ë„£ì—ˆë”ë‹ˆ í™”ë©´ push ì´í›„ì— ê³§ë°”ë¡œ ì•±ì´ ì£½ì–´ë²„ë ¸ë‹¤.   

~~~swift
func fetchData() {

// ì¤‘ëµ...

// ì²«ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹: ë°ì´í„° ë°›ì•„ì˜¤ê¸°    
networkManager.fetchInfoData(userInfo: user) { result in
    switch result {
    
    // ì²«ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹ ì„±ê³µ
    case .success(let reportData):
        
        // ë‘ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹: ì´ë¯¸ì§€ ë°›ì•„ì˜¤ê¸°
        self.networkManager.fetchImage(self.reportDataManager.getBBoxImagePath()) { imageData in
            switch imageData {

            // ë‘ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹ ì„±ê³µ    
            case .success(let image):
                self.reportDataManager.updateBBoxImageList(image)
                
                // ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ â­ï¸
                DispatchQueue.main.async {
                    self.navigationController?.setViewControllers([reportVC], animated: true)
                }

            // ë‘ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹ ì‹¤íŒ¨    
            case .failure(let error):
                print(error)
            }
        }
    // ì²«ë²ˆì§¸ ë„¤íŠ¸ì›Œí‚¹ ì‹¤íŒ¨    
    case .failure(let error):
        print(error)
    }
}
~~~
<br>

Console ì°½ ì˜¤ë¥˜ ë©”ì‹œì§€

~~~
2023-03-30 11:39:50.435086+0900 MyProject[95496:3214241] 
*** Terminating app due to uncaught exception 'NSInvalidArgumentException',
reason: '<UINavigationController: 0x7f87d808b400> is pushing the same view controller instance (<MyProject.ReportViewController: 0x7f87da705500>) more than once which is not supported and is most likely an error in the application : com.thinkyside.MyProject
'
~~~

<br>

## ğŸª“ ì‚½ì§ˆ ê¸°ë¡

### 1. ì½”ë“œ ì‚­ì œí•´ë³´ê¸°
ì¼ë‹¨ UINavigationControllerì— ë¬¸ì œê°€ ìƒê¸´ ê²ƒ ê°™ì•„ push êµ¬ë¬¸ì„ ì‚­ì œí•´ë³´ì•˜ë‹¤.   
ì˜ˆìƒê³¼ ê°™ì´ í•´ë‹¹ ê²½ìš°ëŠ” ì•±ì´ ì£½ì§€ ì•ŠëŠ”ë‹¤.

<br>

### 2. setViewController ë©”ì„œë“œ ì‚¬ìš©í•´ë³´ê¸°
StackOverflowì—ì„œ [ê°™ì€ í˜„ìƒ](https://stackoverflow.com/questions/7083124/pushing-the-same-view-controller-instance-more-than-once-is-not-supported-exce)ì„ ê²ªê³  ìˆëŠ” ê¸€ì„ ì°¾ì•˜ë‹¤.   
ì˜›ë‚  ê¸€ì´ë¼ objective-Cë¡œ ì“°ì—¬ì ¸ ìˆì–´ ì•„ë˜ì˜ ìµœì‹  ì½”ë“œë¥¼ ì°¸ê³ í•´ í•˜ë‚˜ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤.   
ê²°ê³¼ëŠ” ëŒ€ì„±ê³µ! ê·¼ë° ì™œ ì´ë ‡ê²Œ ë˜ëŠ”ê±°ì§€???

~~~swift
DispatchQueue.main.async {
    self.navigationController?.setViewControllers([reportVC], animated: true)
}
~~~